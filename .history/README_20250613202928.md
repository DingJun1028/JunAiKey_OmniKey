# JunAiKey è¬èƒ½å…ƒé‘°ç¸½ç³»çµ±

> åœ¨çŸ¥è­˜çš„è–æ®¿ä¸­ï¼Œè‡ªæˆ‘å°èˆªçš„æ™ºèƒ½é«”å†¶ç…‰æ¬Šèƒ½ã€åµŒåˆç¬¦æ–‡ï¼Œæ–¼æ°¸æ†å®®æ®¿ï¼ˆEternal Palaceï¼‰é•·å»Šä¸­å…‰é€Ÿå‰è¡Œã€‚

---

## æ•…äº‹æ¨¡çµ„ï¼šå››å¤§æ”¯æŸ±ãƒ»å…­å¤§å¥§å¼ãƒ»ä¸€å¤§ç§˜è¡“ãƒ»æ°¸æ†å®®æ®¿ï¼ˆMECE åˆ†æï¼‰

> JunAiKey çš„æ™ºèƒ½é«”ä¸–ç•Œï¼Œæ‰€æœ‰èƒ½åŠ›çš†ä»¥ã€ŒMECEã€åŸå‰‡è¨­è¨ˆï¼šæ¯ä¸€æ”¯æŸ±ã€å¥§å¼ã€ç§˜è¡“çš†ç¨ç«‹åˆ†å·¥ã€ç„¡é‡ç–Šï¼Œåˆèµ·ä¾†å®Œæ•´æ¶µè“‹æ™ºèƒ½é€²åŒ–çš„å…¨è²Œã€‚
> 
> **ä»¥ç”¨æˆ¶ç‚ºä¸­å¿ƒçš„ SaaS æ™ºèƒ½å¹³å°**ï¼šJunAiKey ä¸åƒ…æ˜¯é–‹ç™¼è€…çš„è‡ªå‹•åŒ–å·¥å…·ï¼Œæ›´æ˜¯æ¯ä¸€ä½ç”¨æˆ¶çš„æ•¸ä½åˆ†èº«ã€çŸ¥è­˜åŠ©ç†èˆ‡è¡Œå‹•ä¸­æ¨ã€‚æ‰€æœ‰è¨­è¨ˆã€APIã€åŒæ­¥ã€æ’ä»¶ã€æ™ºèƒ½éµç›¤ï¼ˆè¬èƒ½å…ƒéµ Appï¼Œæ”¯æ´ç¹ä¸­è‹±æ··è¼¸ï¼‰çš†ä»¥ç”¨æˆ¶é«”é©—ã€è³‡æ–™ä¸»æ¬Šèˆ‡å€‹äººå¢èƒ½ç‚ºæœ€é«˜åŸå‰‡ã€‚

### å››å¤§æ”¯æŸ±ï¼ˆThe Four Pillarsï¼‰
1. **è‡ªæˆ‘å°èˆªï¼ˆNavigationï¼‰**ï¼šè² è²¬ç›®æ¨™è¦åŠƒã€æ±ºç­–èˆ‡è¡Œå‹•è·¯å¾‘ï¼Œç¢ºä¿ä»»å‹™æ–¹å‘æ˜ç¢ºã€‚
2. **æ°¸æ†å®®æ®¿ï¼ˆEternal Palaceï¼‰**ï¼šå°ˆæ³¨æ–¼çŸ¥è­˜ã€ç¶“é©—ã€å›é¥‹çš„å„²å­˜èˆ‡æª¢ç´¢ï¼Œæ”¯æ’é•·æœŸå­¸ç¿’ã€‚æ°¸æ†å®®æ®¿ä¸­ï¼Œè˜Šè—è‘—ã€Œè¬èƒ½å…ƒé‘°ã€ï¼Œèƒ½æŒ‡æ®ã€Œè¬èƒ½ä»£ç†ï¼ˆAIä»£ç†ç¾¤ï¼‰ã€ã€ã€Œè¬èƒ½åŒæ­¥ã€ã€ã€Œè¬èƒ½æ™ºåº«ã€ã€ã€Œè¬èƒ½æ“´å……ã€ç­‰å››å¤§èƒ½åŠ›ï¼Œæˆç‚ºæ™ºèƒ½é«”é€²åŒ–çš„æ ¸å¿ƒæ¨ç´ã€‚
3. **æ¬Šèƒ½å†¶ç…‰ï¼ˆAuthority Forgeï¼‰**ï¼šå°‡é‡è¤‡æˆ–è¤‡é›œä»»å‹™é›é€ æˆæ¨¡çµ„åŒ–èƒ½åŠ›ï¼Œæå‡æ•ˆç‡èˆ‡å°ˆå±¬æ€§ã€‚
4. **ç¬¦æ–‡åµŒåˆï¼ˆRune Engravingï¼‰**ï¼šèšç„¦å¤–éƒ¨ APIã€AI èƒ½åŠ›çš„æ•´åˆèˆ‡æ“´å±•ï¼Œè®“ç³»çµ±æŒçºŒé€²åŒ–ã€‚

> å››å¤§æ”¯æŸ±å½¼æ­¤ç¨ç«‹ï¼Œåˆ†åˆ¥å°æ‡‰å°èˆªã€çŸ¥è­˜ã€èƒ½åŠ›ã€æ“´å±•ï¼Œç„¡é‡ç–Šï¼Œåˆèµ·ä¾†æ§‹æˆæ™ºèƒ½é«”çš„å®Œæ•´åŸºç¤ã€‚

### å…­å¤§å¥§å¼ï¼ˆThe Six Arcanaï¼‰
- **ä»»å‹™åˆ†è§£ï¼ˆTask Decompositionï¼‰**ï¼šå°‡è¤‡é›œç›®æ¨™æ‹†è§£ç‚ºæ˜ç¢ºæ­¥é©Ÿï¼Œå°ˆæ³¨æ–¼çµæ§‹åŒ–ã€‚
- **æŠ€èƒ½çµ„åˆï¼ˆSkill Compositionï¼‰**ï¼šå°‡å¤šç¨®èƒ½åŠ›éˆæ´»çµ„åˆï¼Œå°ˆæ³¨æ–¼å”ä½œèˆ‡èª¿åº¦ã€‚
- **çŸ¥è­˜å¬å–šï¼ˆKnowledge Summoningï¼‰**ï¼šå³æ™‚æª¢ç´¢ã€èª¿ç”¨æ°¸æ†å®®æ®¿çŸ¥è­˜ï¼Œå°ˆæ³¨æ–¼çŸ¥è­˜æ‡‰ç”¨ã€‚
- **æ±ºç­–éŠé‡‘ï¼ˆDecision Alchemyï¼‰**ï¼šèåˆå¤šæºè³‡è¨Šï¼Œåšå‡ºæœ€ä½³æ±ºç­–ï¼Œå°ˆæ³¨æ–¼åˆ¤æ–·èˆ‡é¸æ“‡ã€‚
- **ç¬¦æ–‡çµ„åˆï¼ˆRune Combinationï¼‰**ï¼šå°‡å¤–éƒ¨ API/æ’ä»¶å¦‚ç¬¦æ–‡èˆ¬åµŒåˆï¼Œå°ˆæ³¨æ–¼èƒ½åŠ›æ“´å±•ã€‚
- **åœˆå±¤å”èª¿ï¼ˆLayer Coordinationï¼‰**ï¼šè·¨å¹³å°ã€è·¨åœˆå±¤è³‡æ–™èˆ‡ä»»å‹™è‡ªå‹•å”èª¿ï¼Œå°ˆæ³¨æ–¼åŒæ­¥èˆ‡ä¸€è‡´æ€§ã€‚

> å…­å¤§å¥§å¼å„è‡ªç¨ç«‹ï¼Œæ¶µè“‹æ™ºèƒ½é«”é‹ä½œçš„å…­ç¨®æ ¸å¿ƒæ–¹å¼ï¼Œç„¡äº¤é›†ï¼Œåˆèµ·ä¾†æ”¯æ’æ‰€æœ‰æ™ºèƒ½è¡Œç‚ºã€‚

### ä¸€å¤§ç§˜è¡“ï¼ˆThe Grand Secretï¼‰
- **æ°¸æ†å®®æ®¿ï¼ˆEternal Palaceï¼‰**ï¼šå”¯ä¸€çš„é€²åŒ–æ ¸å¿ƒï¼Œæ‰€æœ‰çŸ¥è­˜ã€ç¶“é©—ã€ä»»å‹™å›é¥‹çš†åœ¨æ­¤æ²‰æ¾±ã€é€²åŒ–ï¼Œæˆç‚ºæ°¸ä¸æ¶ˆé€çš„æ™ºæ…§å¯¶åº«ã€‚æ°¸æ†å®®æ®¿å…§çš„ã€Œè¬èƒ½å…ƒé‘°ã€å¯çµ±å¾¡ã€Œè¬èƒ½ä»£ç†ï¼ˆAIä»£ç†ç¾¤ï¼‰ã€ã€ã€Œè¬èƒ½åŒæ­¥ã€ã€ã€Œè¬èƒ½æ™ºåº«ã€ã€ã€Œè¬èƒ½æ“´å……ã€ç­‰èƒ½åŠ›ï¼Œå”èª¿æ™ºèƒ½é«”çš„å…¨æ–¹ä½é€²åŒ–ã€‚å…¶åœ°ä½ç¨ç«‹æ–¼æ”¯æŸ±èˆ‡å¥§å¼ï¼Œæ˜¯æ™ºèƒ½é«”æŒçºŒé€²åŒ–çš„æœ¬æºã€‚

---

## ç›®éŒ„

- [å°ˆæ¡ˆé¡˜æ™¯èˆ‡å®šä½](#å°ˆæ¡ˆé¡˜æ™¯èˆ‡å®šä½)
- [å°ˆæ¡ˆçµæ§‹](#å°ˆæ¡ˆçµæ§‹)
- [æ¶æ§‹å…¨æ™¯åœ–](#æ¶æ§‹å…¨æ™¯åœ–)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [CI/CD è‡ªå‹•åŒ–](#cicd-è‡ªå‹•åŒ–)
- [æ ¸å¿ƒæ¨¡çµ„ç¯„ä¾‹](#æ ¸å¿ƒæ¨¡çµ„ç¯„ä¾‹)
- [å•†æ¥­åŒ–è·¯å¾‘](#å•†æ¥­åŒ–è·¯å¾‘)
- [é©—è­‰æŒ‡æ¨™](#é©—è­‰æŒ‡æ¨™)
- [ç‰ˆæœ¬è³‡è¨Š](#ç‰ˆæœ¬è³‡è¨Š)

---

## å°ˆæ¡ˆé¡˜æ™¯èˆ‡å®šä½

- ä»¥ç”¨æˆ¶ç‚ºä¸­å¿ƒï¼Œæ‰“é€ å¯è‡ªæˆ‘é€²åŒ–ã€çŸ¥è­˜æ°¸çºŒã€ç¤¾ç¾¤å…±å‰µçš„ AI æ™ºèƒ½ä»£ç†å¹³å°ã€‚
- å››å¤§æ ¸å¿ƒæ”¯æŸ±ï¼ˆè‡ªæˆ‘å°èˆªã€æ°¸æ†å®®æ®¿ã€æ¬Šèƒ½å†¶ç…‰ã€ç¬¦æ–‡åµŒåˆï¼‰çµ„æˆé€²åŒ–é£›è¼ªï¼Œé©…å‹•å€‹äººèˆ‡é›†é«”æ™ºèƒ½æŒçºŒé€²åŒ–ã€‚
- å¤šå¹³å° API æ•´åˆã€ä»£ç†å”ä½œã€åŒæ­¥ã€è‡ªå‹•åŒ–ï¼Œæ”¯æ´ CLIã€Webã€Appã€Webhookã€‚
- ä¸åªæ˜¯å·¥å…·ï¼Œè€Œæ˜¯æ•¸ä½ç”Ÿæ´»çš„ã€Œè¬èƒ½å…ƒé‘°ã€èˆ‡å€‹äºº/åœ˜éšŠçš„æ•¸ä½åˆ†èº«ã€‚

---

## å°ˆæ¡ˆçµæ§‹

```text
jun-ai-key/
â”œâ”€â”€ .github/workflows/ci.yml, deploy.yml
â”œâ”€â”€ docs/SPEC.md, API_LIBRARY.md
â”œâ”€â”€ public/index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/straicoApi.ts, boostApi.ts, capacitiesApi.ts
â”‚   â”œâ”€â”€ components/, hooks/, models/, scriptApp/, styles/
â”‚   â”œâ”€â”€ App.tsx, index.tsx
â”œâ”€â”€ supabase/migrations/, functions/
â”œâ”€â”€ .env.example
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ SPEC.md
```

---

## æ¶æ§‹å…¨æ™¯åœ–

# ä»¥çµ‚ç‚ºå§‹ï¼ç„¡é™é€²åŒ–

# JunAiKey è¬èƒ½å…ƒé‘°ç³»çµ±

> **æ ¸å¿ƒç†å¿µï¼šä»¥ç”¨æˆ¶ç‚ºä¸­å¿ƒ**
> JunAiKey æ‰€æœ‰è¨­è¨ˆã€æ¶æ§‹ã€æµç¨‹ã€APIã€çŸ¥è­˜åœ–è­œèˆ‡è‡ªå‹•åŒ–ï¼Œçš†ä»¥ç”¨æˆ¶éœ€æ±‚ã€é«”é©—èˆ‡åƒ¹å€¼ç‚ºæœ€é«˜å„ªå…ˆï¼Œç¢ºä¿æ¯ä¸€é …åŠŸèƒ½éƒ½èƒ½ä¸»å‹•ç†è§£ã€å”èª¿ä¸¦æ»¿è¶³ç”¨æˆ¶çš„çœŸå¯¦æ„åœ–èˆ‡é•·æœŸæˆé•·ã€‚

> çŸ¥è­˜çš„è–æ®¿ä¸­ï¼Œè‡ªæˆ‘å°èˆªçš„æ™ºèƒ½é«”æ°¸ä¸åœæ­‡åœ°å†¶ç…‰æ¬Šèƒ½ã€åµŒåˆç¬¦æ–‡ï¼Œåœ¨è¨˜æ†¶çš„é•·å»Šä¸­å…‰é€Ÿå‰è¡Œã€‚
> In the sanctum of knowledge, self-navigating agents perpetually forge authorities and engrave runes, advancing at light speed through the corridors of memory.

---

## JunAiKey å°ˆæ¡ˆé‡é»æ•´ç†ï¼ˆ2025/06/11ï¼‰

### 1. é¡˜æ™¯èˆ‡å®šä½
- ä»¥ç”¨æˆ¶ç‚ºä¸­å¿ƒï¼Œæ‰“é€ å¯è‡ªæˆ‘é€²åŒ–ã€çŸ¥è­˜æ°¸çºŒã€ç¤¾ç¾¤å…±å‰µçš„ AI æ™ºèƒ½ä»£ç†å¹³å°ã€‚
- ä¸åªæ˜¯å·¥å…·ï¼Œè€Œæ˜¯æ•¸ä½ç”Ÿæ´»çš„ã€Œè¬èƒ½å…ƒé‘°ã€èˆ‡å€‹äºº/åœ˜éšŠçš„æ•¸ä½åˆ†èº«ã€‚

### 2. æ¶æ§‹å…¨æ™¯
- å››å¤§æ ¸å¿ƒæ”¯æŸ±ï¼ˆè‡ªæˆ‘å°èˆªã€æ°¸æ†å®®æ®¿ã€æ¬Šèƒ½å†¶ç…‰ã€ç¬¦æ–‡åµŒåˆï¼‰çµ„æˆé€²åŒ–é£›è¼ªï¼Œé©…å‹•å€‹äººèˆ‡é›†é«”æ™ºèƒ½æŒçºŒé€²åŒ–ã€‚
- JunAiKey ç‚ºå”¯ä¸€ä¸­å¿ƒï¼Œæ•´åˆ BoostSpaceã€Supabaseã€Capacitiesã€AITableã€GitHubã€Notion ç­‰å¹³å°ï¼Œå¯¦ç¾å¤šç«¯åŒæ­¥ã€è³‡æ–™èšåˆã€API/æ’ä»¶ç”Ÿæ…‹ã€‚

### 3. MVP äº¤ä»˜å…§å®¹
- å¤šå¹³å° API æ•´åˆã€åŠŸèƒ½ä»£ç†ç¾¤ã€ç¾¤çµ„ä»£ç†ã€Scripting CLIã€æ¡Œé¢/æ‰‹æ©ŸåŒæ­¥ã€è‡ªå‹•åŒ–æ¸¬è©¦ã€‚
- æŠ€è¡“æ£§ï¼šTypeScriptã€Node.jsã€Supabaseã€GitHub Actionsã€è‡ªç ”ä»£ç†æ¨¡çµ„ã€‚
- äº¤ä»˜å½¢å¼ï¼šé–‹æºå°ˆæ¡ˆã€READMEã€API/æ’ä»¶æ¨™æº–ã€è…³æœ¬ç¯„ä¾‹ã€CI/CD æµç¨‹ã€‚

### 4. æŠ€è¡“äº®é»
- æ¨¡çµ„åŒ–æ¶æ§‹ã€è·¨ç«¯å³æ™‚åŒæ­¥ã€ä½ç¨‹å¼é–€æª»ã€å…§å»ºè‡ªå‹•åŒ–æ¸¬è©¦ã€é–‹æ”¾æ’ä»¶/ä»£ç†ç”Ÿæ…‹ã€‚
- æ”¯æ´ CLIã€Webhookã€æ¡Œé¢ã€å‰ç«¯ã€æ‰‹æ©Ÿç­‰å¤šç«¯å”ä½œèˆ‡è‡ªå‹•åŒ–ã€‚

### 5. é€²åŒ–é£›è¼ªèˆ‡çŸ¥è­˜æ²‰æ¾±
- æ°¸æ†å®®æ®¿ï¼ˆEternal Palaceï¼‰ï¼šçŸ¥è­˜ç©ç´¯èˆ‡æ±ºç­–æ ¹åŸºï¼Œçµæ§‹åŒ–çŸ¥è­˜åœ–è­œã€‚
- è‡ªæˆ‘å°èˆªï¼šä¸»å‹•è¦åŠƒèˆ‡æ™ºèƒ½æ±ºç­–ï¼Œè¡Œå‹•çµæœå›é¥‹è¨˜æ†¶åº«ã€‚
- æ¬Šèƒ½å†¶ç…‰ï¼šå°‡é‡è¤‡/è¤‡é›œä»»å‹™é›é€ æˆå°ˆå±¬èƒ½åŠ›ï¼Œæ¨å‹•å€‹äººé€²åŒ–ã€‚
- ç¬¦æ–‡åµŒåˆï¼šç„¡ç¸«æ•´åˆå…¨çƒ AI èƒ½åŠ›ï¼ŒæŒçºŒé€²åŒ–èˆ‡æ“´å±•ã€‚

### 6. å¯¦æˆ°æ‡‰ç”¨
- å¤šå¹³å°ä»»å‹™/è³‡æ–™é›™å‘åŒæ­¥ã€çŸ¥è­˜/ä»»å‹™æ™ºåº«æŒ‡æ®ä¸­å¿ƒã€è‡ªå‹•åŒ–æµç¨‹ã€ç¤¾ç¾¤å…±å‰µã€‚
- YAML/CSV ä»»å‹™ç¯„ä¾‹å¯ç›´æ¥å°å…¥ GitHub Projectã€Notionã€Aitable ç­‰å”ä½œå¹³å°ã€‚

### 7. æ°¸çºŒç™¼å±•å®£è¨€
- é–‹æºæ ¸å¿ƒã€å•†æ¥­æ“´å±•ã€é–‹ç™¼è€…åˆ†æ½¤ã€ä¼æ¥­ç´šåŠŸèƒ½è¨‚é–±åˆ¶ï¼ŒçŸ¥è­˜è–æ®¿æ°¸ä¸é—œé–‰ã€‚

---

## æ¶æ§‹å…¨æ™¯åœ– | Architecture Panorama
```mermaid
graph TD
    subgraph ç”¨æˆ¶ç«¯ [Client Tier]
        A[ç¶²é æ§åˆ¶å°] --> B[CLI]
        C[iOS App] --> B
        D[Android App] --> B
        E[ç€è¦½å™¨æ“´å±•] --> B
    end
    subgraph è¬èƒ½å…ƒé‘°æ ¸å¿ƒ [JunAiKey Core]
        F[[API ç¶²é—œ]] --> G{è·¯ç”±åˆ†é…å™¨}
        G --> H[è‡ªæˆ‘å°èˆªä»£ç†ç¾¤]
        G --> I[æ°¸ä¹…è¨˜æ†¶åº«]
        G --> J[æ¬Šèƒ½å†¶ç…‰å¼•æ“]
        G --> K[ç¬¦æ–‡åµŒåˆç³»çµ±]
        H --> L[ä»»å‹™åˆ†è§£ä»£ç†]
        H --> M[æŠ€èƒ½çµ„åˆä»£ç†]
        I --> N[å‘é‡æ°¸æ†å®®æ®¿ï¼ˆEternal Palaceï¼‰]
        J --> O[æ¬Šé™éŠé‡‘è¡“]
        K --> P[ç¬¦æ–‡çµ„åˆå™¨]
    end
    subgraph æ•¸æ“šå±¤ [Data Layer]
        N --> Q[(Supabase DB)]
        O --> R[(æ¬Šé™ç­–ç•¥åº«)]
        P --> S[(ç¬¦æ–‡å€‰åº«)]
    end
    subgraph å¤–éƒ¨ç³»çµ± [External Systems]
        T[[Notion]] --> F
        U[[Slack]] --> F
        V[[GitHub]] --> F
        W[[Make.com]] --> F
    end
```

---

## å¿«é€Ÿé–‹å§‹

1. å®‰è£ Node.jsã€npmã€Supabase CLI
2. è¤‡è£½ `.env.example` ç‚º `.env` ä¸¦å¡«å…¥é‡‘é‘°
3. å®‰è£ä¾è³´ä¸¦å•Ÿå‹•ï¼š

    ```bash
    git clone https://github.com/<å¸³è™Ÿ>/jun-ai-key.git
    cd jun-ai-key
    npm install
    npm start
    ```

4. Edge Functions åµéŒ¯ï¼š

    ```bash
    cd supabase/functions
    supabase functions serve
    ```

---

## CI/CD è‡ªå‹•åŒ–

- `.github/workflows/ci.yml`ï¼šè‡ªå‹• lintã€buildã€test
- `.github/workflows/deploy.yml`ï¼šmain åˆ†æ”¯è‡ªå‹•éƒ¨ç½² GitHub Pages & Supabase Edge Functions

---

## æ ¸å¿ƒæ¨¡çµ„ç¯„ä¾‹

### è‡ªæˆ‘å°èˆªä»£ç†ç¾¤

```typescript
class NavigationAgent {
  constructor(private memory: MemoryPalace) {}
  async executeTask(task: Task): Promise<Result> {
    const context = await this.memory.retrieveContext(task.userId);
    const plan = await this.createPlan(task, context);
    for (const step of plan.steps) {
      const agent = AgentFactory.getAgent(step.skillType);
      const result = await agent.execute(step.parameters);
      await this.memory.storeExecution(step, result);
    }
    return plan.compileFinalResult();
  }
  private async createPlan(task: Task, context: Context): Promise<Plan> {
    const llmResponse = await LLMClient.generatePlan({
      task: task.description,
      context: context.snippets,
      availableSkills: this.getAvailableSkills()
    });
    return PlanParser.parse(llmResponse);
  }
}
```

### æ°¸ä¹…è¨˜æ†¶åº«

```typescript
class MemoryPalace {
  constructor(private vectorDB: VectorDatabase) {}
  async retrieveContext(userId: string): Promise<Context> {
    const embeddings = await EmbeddingService.generate(task.keywords);
    const memories = await this.vectorDB.query({ userId, vectors: embeddings, topK: 5 });
    return { userId, snippets: memories.map(m => m.content) };
  }
  async storeExecution(step: PlanStep, result: any): Promise<void> {
    const memoryRecord = {
      type: 'execution',
      content: `Executed ${step.skillType} with params: ${JSON.stringify(step.parameters)}`,
      result: JSON.stringify(result),
      timestamp: new Date().toISOString()
    };
    await this.vectorDB.insert(memoryRecord);
  }
}
```

### API ç¶²é—œ

```typescript
import express from 'express';
const app = express();
app.use(express.json());
app.post('/v1/execute', async (req, res) => {
  const { userId, task, platform } = req.body;
  try {
    const agent = new NavigationAgent(memoryPalace);
    const result = await agent.executeTask({ userId, description: task });
    const formatter = OutputFormatterFactory.getFormatter(platform);
    res.json(formatter.format(result));
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
app.listen(3000, () => {
  console.log('OmniKey Gateway running on port 3000');
});
```

---

## å•†æ¥­åŒ–è·¯å¾‘

- é–‹æºæ ¸å¿ƒã€æ’ä»¶å¸‚é›†ã€API è¨‚é–±ã€ä¼æ¥­å°ˆæ¡ˆã€æ•¸æ“šæ´å¯Ÿ
- æ”¶å…¥ä¾†æºï¼šè¨‚é–±åˆ¶ã€API è¨ˆåƒ¹ã€æ’ä»¶åˆ†æ½¤ã€ä¼æ¥­å°ˆæ¡ˆ

---

## é©—è­‰æŒ‡æ¨™

| æŒ‡æ¨™é¡åˆ¥ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• |
|----------|--------|----------|
| API éŸ¿æ‡‰æ™‚é–“ | < 300ms | åˆ†ä½ˆå¼ç›£æ§ |
| è…³æœ¬åŒæ­¥æˆåŠŸç‡ | > 99.95% | ç«¯åˆ°ç«¯æ¸¬è©¦ |
| ä»£ç†å”ä½œæ•ˆç‡ | < 5ç§’/ä»»å‹™éˆ | ä»»å‹™è¿½è¹¤ |
| è¨˜æ†¶æª¢ç´¢æº–ç¢ºç‡ | > 92% | å‘é‡åŸºæº–æ¸¬è©¦ |

> **æ°¸çºŒç™¼å±•å®£è¨€**  
> æœ¬ç³»çµ±éµå¾ªã€Œé–‹æºæ ¸å¿ƒ+å•†æ¥­æ“´å±•ã€æ¨¡å¼ï¼Œç¢ºä¿ï¼š  
> - æ ¸å¿ƒåŠŸèƒ½æ°¸ä¹…å…è²»é–‹æº  
> - ä¼æ¥­ç´šåŠŸèƒ½è¨‚é–±åˆ¶  
> - é–‹ç™¼è€…æ”¶ç›Šåˆ†æˆæ©Ÿåˆ¶

---

## All Promises

### Promise 1: ç”¨æˆ¶æ„åœ–è‡ªå‹•è¦åŠƒ
- ä»£ç†ç¾¤ï¼ˆOmniKey Agent Swarmï¼‰æœƒæ ¹æ“šç”¨æˆ¶æ¯ä¸€æ¬¡äº’å‹•ï¼Œä¸»å‹•è§£ææ„åœ–ï¼Œè¦åŠƒè·¨åœˆå±¤çš„çŸ¥è­˜ã€ä»»å‹™ã€è³‡æ–™æµã€‚
- æ‰€æœ‰è¦åŠƒéç¨‹çš†ä»¥ TypeScript é¡å‹å®‰å…¨èˆ‡å¯è¿½è¹¤æ€§ç‚ºåŸºç¤ã€‚

### Promise 2: åœˆå±¤å”èª¿èˆ‡åŒæ­¥
- å„åœˆå±¤ï¼ˆçŸ¥è­˜ã€ä»»å‹™ã€è³‡æ–™ï¼‰è‡ªå‹•å”èª¿ï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§èˆ‡å³æ™‚åŒæ­¥ã€‚
- ä»»å‹™èˆ‡çŸ¥è­˜çš„æµè½‰çš†ä»¥ Promise-based éåŒæ­¥æµç¨‹å¯¦ç¾ï¼Œä¿è­‰é«˜æ•ˆèˆ‡å¯æ“´å±•ã€‚

### Promise 3: çµ±ä¸€è¨˜éŒ„èˆ‡é•·æœŸçŸ¥è­˜åœ–è­œ
- æ‰€æœ‰åœˆå±¤çš„äº’å‹•ã€ä»»å‹™ã€çŸ¥è­˜è‡ªå‹•çµ±ä¸€è¨˜éŒ„ï¼Œå½¢æˆå¯æŸ¥è©¢ã€å¯è¿½æº¯çš„çŸ¥è­˜åœ–è­œã€‚
- æ”¯æ´è·¨å¹³å°ï¼ˆWebã€Appã€CLIã€APIï¼‰ä¸€è‡´çš„è³‡æ–™çµæ§‹èˆ‡æŸ¥è©¢ä»‹é¢ã€‚

### Promise 4: é–‹ç™¼è€…èˆ‡ç”¨æˆ¶é›™å‘è³¦èƒ½
- é–‹ç™¼è€…å¯æ“´å……ä»»å‹™ä»£ç†ã€çŸ¥è­˜åœˆå±¤ã€è³‡æ–™é€£æ¥å™¨ï¼Œæ‰€æœ‰æ“´å……çš†ä»¥ TypeScript å‹åˆ¥èˆ‡ Promise æ¨™æº–å¯¦ä½œã€‚
- ç”¨æˆ¶å¯è‡ªå®šç¾©è‡ªå‹•åŒ–è¦å‰‡ï¼Œæ‰€æœ‰è‡ªå‹•åŒ–çš†ä»¥ Promise æµç¨‹éˆä¸²æ¥ã€‚

### Promise 5: æ°¸çºŒé–‹æºèˆ‡å•†æ¥­å…±æ¦®
- æ ¸å¿ƒåŠŸèƒ½æ°¸ä¹…é–‹æºï¼Œæ‰€æœ‰ API/æ¨¡çµ„çš†ä»¥ TypeScript Promise æ¨™æº–è¨­è¨ˆï¼Œæ˜“æ–¼å¯©æŸ¥èˆ‡äºŒæ¬¡é–‹ç™¼ã€‚
- ä¼æ¥­ç´šåŠŸèƒ½èˆ‡è³‡æ–™å®‰å…¨ä»¥è¨‚é–±åˆ¶æä¾›ï¼Œé–‹ç™¼è€…å¯åƒèˆ‡æ”¶ç›Šåˆ†æˆã€‚

---

## JunAiKey é–‹ç™¼è¨ˆç•«èˆ‡é¡˜æ™¯ï¼ˆç²¾è¯å½™æ•´ï¼‰

### ğŸŒŸ é¡˜æ™¯èˆ‡ä½¿å‘½ Vision & Mission
- è®“æ‰€æœ‰äººèƒ½æ›´äººæ©Ÿä¸€é«”ï¼Œé–‹å‰µæ•¸ä½åˆ†èº«æ–°ç´€å…ƒã€‚
- Empowering everyone to merge with machines â€” ushering in a new era of intelligent digital twins.

### ğŸ§‘â€ğŸ’» ä½ æ˜¯èª°ï¼ŸWho are you?
ä½ æ˜¯ Jun æ´ªé¼ç«£çš„çµ‚æ¥µæ•¸ä½é—œéµè§’è‰² â€”â€” ä¸€ä½ç­–ç•¥èˆ‡è‡ªå‹•åŒ–å®Œç¾çµåˆçš„ç³»çµ±è¨­è¨ˆå¤§å¸«ã€‚

> The architect of a seamlessly intelligent digital mind.

ä½ æ‰“é€ çš„ä¸æ˜¯å–®ä¸€ç³»çµ±ï¼Œè€Œæ˜¯ä¸€å€‹è·¨å¹³å°æ™ºæ…§ç”Ÿæ…‹éˆï¼Œè®“ä»»å‹™è‡ªå‹•æ±ºç­–ã€è³‡æ–™å³æ™‚æµè½‰ã€çŸ¥è­˜æ·±åº¦èåˆã€‚

---

### ğŸš€ JunAiKey é–‹ç™¼è¨ˆç•« v1.0

#### ä½¿å‘½ Mission
æ‰“é€ å¯åŸ·è¡Œæ±ºç­–ã€åŒæ­¥çŸ¥è­˜ã€å–ä»£çœŸäººçš„å€‹äºº AI ä»£ç†ç³»çµ±

#### å››å¤§éšæ®µé–‹ç™¼è·¯ç·šåœ–

1. **åŸºç¤å»ºè¨­ï¼šè·¨å¹³å°è³‡æ–™åŒæ­¥æ ¸å¿ƒ**
   - Capacities ç­†è¨˜åŒæ­¥ã€Boost.space ä»»å‹™åŒæ­¥ã€Supabase è³‡æ–™æ¹–ã€Notion/AITable/Taskade æ•´åˆ
2. **ä»£ç†èƒ½åŠ›å¼·åŒ–ï¼šæ¨¡çµ„åŒ– AI ä»»å‹™ä»£ç†äºº**
   - Straico Prompt å°èˆªã€AI Proxy è¡Œç‚ºè§’è‰²ã€AI Log æ¨¡æ“¬ã€ä»»å‹™è‡ªæˆ‘å›å ±
3. **æ±ºç­–æ™ºæ…§é€²åŒ–ï¼šAI è‡ªæˆ‘ä¿®æ­£èˆ‡å›é¥‹è¿´åœˆ**
   - æ±ºç­–éŒ¯èª¤åµæ¸¬ã€å›é¥‹è¨“ç·´ã€å¤šä»£ç†å”ä½œã€æ±ºç­–æ—¥èªŒè¦–è¦ºåŒ–
4. **è¤‡è£½èˆ‡æ“´æ•£ï¼šæ•¸ä½åˆ†èº«å¹³å°å…¬é–‹æ¨¡çµ„**
   - åˆå§‹åŒ–è¨­å®šç²¾éˆã€æ¨¡çµ„å•†åº—ã€API åˆ†èº«ç”Ÿç”¢å™¨ã€åˆ†èº«è¤‡è£½éˆ

---

### ğŸ§© ä»£è¡¨æ€§æŠ€è¡“æ¨¡çµ„èˆ‡ç¯„ä¾‹

#### 1. ä»»å‹™æè¿°æ¨£æ¿ `task.yaml`
```yaml
id: sync_capacities_daily
title: åŒæ­¥ Capacities ç­†è¨˜è‡³ BoostSpace ä»»å‹™
type: sync
agent_role: ç­†è¨˜ç§˜æ›¸
source: Capacities
target: BoostSpace
steps:
  - fetch_daily_note
  - format_yaml_header
  - extract_todo_summary
  - push_to_boost_task
schedule: daily
```

#### 2. Straico Prompt Templateï¼ˆç¯„ä¾‹ï¼‰
```yaml
task_type: sync
agent_role: ç­†è¨˜ç§˜æ›¸
input: "{{daily_note_content}}"
goal: å¾æ¯æ—¥ç­†è¨˜ä¸­æå–ä»»å‹™æ‘˜è¦ï¼Œä¸¦è½‰ç‚º BoostSpace å¯ç”¨æ ¼å¼
output_format:
  - title
  - description
  - due_date
  - tags
prompt: |
  ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„ AI ç­†è¨˜ç§˜æ›¸ï¼Œè«‹å¾ä»¥ä¸‹å…§å®¹ä¸­æå–å‡ºå¯åŸ·è¡Œçš„å¾…è¾¦é …ç›®ï¼š
  {{daily_note_content}}
  ä¸¦è«‹ç”¨ JSON æ ¼å¼è¼¸å‡ºä»¥ä¸‹æ¬„ä½ï¼štitle, description, due_date, tagsã€‚
```

#### 3. ä»»å‹™åŸ·è¡Œè…³æœ¬ï¼ˆTypeScript åˆç‰ˆæ¶æ§‹ï¼‰
```ts
import { fetchNote, parseToDos, pushToBoost } from "./lib";
import { logTask } from "./supabase";

async function runSyncTask() {
  const note = await fetchNote(); // å–å¾— Capacities ç­†è¨˜
  const todos = parseToDos(note.content); // å‘¼å« Straico æå–ä»»å‹™
  const result = await pushToBoost(todos); // ç™¼é€ä»»å‹™åˆ° BoostSpace

  await logTask("sync_capacities_daily", {
    input: note.content,
    output: result,
    status: "success",
  });
}

runSyncTask();
```

#### 4. Supabase ai_logs å»ºè¡¨æŒ‡ä»¤
```sql
CREATE TABLE ai_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  task_id TEXT NOT NULL,
  date DATE,
  summary TEXT,
  raw_output JSONB,
  status TEXT CHECK (status IN ('done', 'error', 'in_progress')),
  created_at TIMESTAMP DEFAULT now()
);
```

---

## é›™æ ¸å¿ƒé›™å‘åŒæ­¥é›†æˆä¸­å¿ƒï¼ˆBoostSpace â†” Supabaseï¼‰

JunAiKey ä»¥ BoostSpace èˆ‡ Supabase ç‚ºé›™æ ¸å¿ƒï¼Œå¯¦ç¾ä»»å‹™/è³‡æ–™é›™å‘åŒæ­¥ï¼Œä¸¦å¯æ“´å±•è‡³ Notionã€AITableã€Capacities ç­‰å¤šå¹³å°ã€‚

### æ¶æ§‹èªªæ˜
- BoostSpace ä»»å‹™ç•°å‹• â†’ Webhook è§¸ç™¼ â†’ JunAiKey ä¸­å¿ƒ â†’ å¯«å…¥ Supabase
- Supabase ä»»å‹™/ç‹€æ…‹ç•°å‹• â†’ Trigger è§¸ç™¼ â†’ JunAiKey ä¸­å¿ƒ â†’ å›å¯« BoostSpace
- é˜²æ­¢åŒæ­¥è¿´åœˆï¼šç‹€æ…‹æ¯”å°èˆ‡ç‰ˆæœ¬æ§åˆ¶

### ä¸»è¦æŠ€è¡“æ¨¡çµ„
- `sync/boostspace-webhook-handler.ts`ï¼šæ¥æ”¶ BoostSpace webhookï¼Œè§£æä»»å‹™ç•°å‹•ï¼Œæ¨é€è‡³ Supabase
- `sync/supabase-trigger-handler.ts`ï¼šç›£æ§ Supabase è³‡æ–™ç•°å‹•ï¼Œå›å¯« BoostSpace
- `sync/state-version-guard.ts`ï¼šç‹€æ…‹æ¯”å°èˆ‡åŒæ­¥é˜²è¿´åœˆ
- `integration/field-mapping.yaml`ï¼šæ¬„ä½å°æ‡‰è¡¨ï¼Œæ”¯æ´å¤šå¹³å°æ¬„ä½æ¨™æº–åŒ–

### ç¯„ä¾‹ TypeScript æ¡†æ¶
```ts
// sync/boostspace-webhook-handler.ts
import { upsertTaskToSupabase } from './supabase-client';
import { parseBoostTask } from './field-mapping';

export async function handleBoostspaceWebhook(payload: any) {
  const task = parseBoostTask(payload);
  await upsertTaskToSupabase(task);
}

// sync/supabase-trigger-handler.ts
import { updateBoostTask } from './boostspace-client';
import { parseSupabaseTask } from './field-mapping';

export async function handleSupabaseTrigger(payload: any) {
  const task = parseSupabaseTask(payload);
  await updateBoostTask(task);
}
```

### æ¬„ä½å°æ‡‰ YAMLï¼ˆintegration/field-mapping.yamlï¼‰
```yaml
boostspace:
  id: task_id
  title: title
  status: status
  due_date: due_date
supabase:
  task_id: id
  title: title
  status: status
  due_date: due_date
```

### é˜²åŒæ­¥è¿´åœˆé‚è¼¯
- æ¯æ¬¡åŒæ­¥æ™‚æ¯”å°ä¾†æºèˆ‡ç›®æ¨™çš„ `updated_at` æˆ– `version` æ¬„ä½ï¼Œåƒ…åœ¨ç‹€æ…‹æœ‰è®ŠåŒ–æ™‚æ‰è§¸ç™¼å¯«å…¥ã€‚
- å¯«å…¥æ™‚æ¨™è¨˜ä¾†æºï¼ˆå¦‚ `source: boostspace` æˆ– `source: supabase`ï¼‰ï¼Œé¿å…é‡è¤‡è§¸ç™¼ã€‚

---

> é›™æ ¸å¿ƒé›™å‘åŒæ­¥é›†æˆä¸­å¿ƒï¼Œç‚º JunAiKey å¤šå¹³å°è‡ªå‹•åŒ–èˆ‡è³‡æ–™ä¸€è‡´æ€§å¥ å®šåŸºç¤ï¼Œå¯æŒçºŒæ“´å±•è‡³ Notionã€AITableã€Capacities ç­‰ç”Ÿæ…‹ã€‚

---

> æœ¬ç« ç¯€ç”± AI ä»£ç†äººè‡ªå‹•å½™æ•´ï¼ŒæŒçºŒæ ¹æ“šé–‹ç™¼é€²åº¦èˆ‡é¡˜æ™¯è‡ªå‹•æ›´æ–°ã€‚

---

**ç‰ˆæœ¬**: 1.0.0-mvp  
**æ›´æ–°æ—¥æœŸ**: 2025-06-25  
Â© 2025 JunAiKey Collective. çŸ¥è­˜è–æ®¿æ°¸ä¸é—œé–‰ã€‚
